{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vihaan\\\\Desktop\\\\When To Visit\\\\src\\\\pages\\\\AddPlace.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { addPlace } from '../services/firestoreService';\nimport { useAuth } from '../contexts/AuthContext';\nimport { searchPlaces, reverseGeocode } from '../services/osmService';\n\n// Helper to get OSM static map image\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getOsmStaticMapUrl = (lat, lon, zoom = 16, width = 400, height = 200) => {\n  // Using OSM static map provider (no API key required)\n  return `https://staticmap.openstreetmap.de/staticmap.php?center=${lat},${lon}&zoom=${zoom}&size=${width}x${height}&markers=${lat},${lon},red-pushpin`;\n};\nconst categories = [{\n  id: 'health',\n  name: 'Health'\n}, {\n  id: 'food',\n  name: 'Food'\n}, {\n  id: 'fitness',\n  name: 'Fitness'\n}, {\n  id: 'shopping',\n  name: 'Shopping'\n}, {\n  id: 'education',\n  name: 'Education'\n}, {\n  id: 'entertainment',\n  name: 'Entertainment'\n}];\nconst AddPlace = () => {\n  _s();\n  const [name, setName] = useState('');\n  const [category, setCategory] = useState('');\n  const [location, setLocation] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [useCurrentLocation, setUseCurrentLocation] = useState(false);\n  const [placeQuery, setPlaceQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedPlace, setSelectedPlace] = useState(null);\n  const {\n    currentUser\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleGetCurrentLocation = async () => {\n    if (navigator.geolocation) {\n      setUseCurrentLocation(true);\n      navigator.geolocation.getCurrentPosition(async position => {\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        try {\n          const result = await reverseGeocode(latitude, longitude);\n          if (result && result.display_name) {\n            setLocation(result.display_name);\n            setSelectedPlace({\n              name: result.display_name,\n              address: result.display_name,\n              location: {\n                lat: latitude,\n                lng: longitude\n              },\n              osm_id: result.osm_id,\n              osm_type: result.osm_type\n            });\n          } else {\n            setLocation(`${latitude.toFixed(6)}, ${longitude.toFixed(6)}`);\n          }\n        } catch (err) {\n          setLocation(`${latitude.toFixed(6)}, ${longitude.toFixed(6)}`);\n        }\n        setUseCurrentLocation(false);\n      }, error => {\n        console.error('Error getting location:', error);\n        setError('Failed to get your current location. Please enter it manually.');\n        setUseCurrentLocation(false);\n      });\n    } else {\n      setError('Geolocation is not supported by your browser. Please enter location manually.');\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!name.trim()) {\n      return setError('Please enter a place name');\n    }\n    if (!category) {\n      return setError('Please select a category');\n    }\n    try {\n      setError('');\n      setLoading(true);\n      await addPlace({\n        name: name.trim(),\n        category,\n        location: selectedPlace ? `${selectedPlace.location.lat},${selectedPlace.location.lng}` : location.trim() || null,\n        address: selectedPlace ? selectedPlace.address : location.trim(),\n        osm_id: selectedPlace ? selectedPlace.osm_id : null,\n        osm_type: selectedPlace ? selectedPlace.osm_type : null,\n        addedBy: currentUser.uid,\n        addedByEmail: currentUser.email\n      });\n      navigate('/');\n    } catch (error) {\n      console.error('Error adding place:', error);\n      setError('Failed to add place. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Google Maps Place Search\n  const handlePlaceSearch = async () => {\n    setError('');\n    setSearchResults([]);\n    setSelectedPlace(null);\n    if (!placeQuery.trim()) return;\n    try {\n      const results = await searchPlaces(placeQuery.trim());\n      setSearchResults(results.map(place => ({\n        name: place.display_name,\n        address: place.display_name,\n        location: {\n          lat: parseFloat(place.lat),\n          lng: parseFloat(place.lon)\n        },\n        osm_id: place.osm_id,\n        osm_type: place.osm_type\n      })));\n      if (results.length === 0) setError('No places found.');\n    } catch (e) {\n      setError('Error searching places.');\n    }\n  };\n  const handleSelectPlace = place => {\n    setSelectedPlace(place);\n    setLocation(place.address);\n    setSearchResults([]);\n    setPlaceQuery(place.name);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900 mb-2\",\n        children: \"Add a New Place\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: [\"Help the community by adding a new location to track. All address and map features are powered by \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://www.openstreetmap.org/\",\n          className: \"text-blue-600 underline\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"OpenStreetMap\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 109\n        }, this), \" (OSM).\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-md p-6\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-md p-4 mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5 text-red-400\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-red-800\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"block text-gray-700 font-medium mb-2\",\n            children: \"Place Name*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            className: \"input\",\n            placeholder: \"e.g., Central Park Gym\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            className: \"block text-gray-700 font-medium mb-2\",\n            children: \"Category*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"category\",\n            value: category,\n            onChange: e => setCategory(e.target.value),\n            className: \"input\",\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              children: \"Select a category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat.id,\n              children: cat.name\n            }, cat.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"location\",\n            className: \"block text-gray-700 font-medium mb-2\",\n            children: \"Location (Search address using OSM or use your current location)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"placeQuery\",\n              value: placeQuery,\n              onChange: e => setPlaceQuery(e.target.value),\n              className: \"input rounded-r-none\",\n              placeholder: \"Search for a place or address (powered by OpenStreetMap)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handlePlaceSearch,\n              className: \"btn btn-secondary rounded-l-none flex items-center\",\n              disabled: loading,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"bg-white border rounded shadow max-h-40 overflow-auto mb-2\",\n            children: searchResults.map(place => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"p-2 hover:bg-blue-100 cursor-pointer\",\n              onClick: () => handleSelectPlace(place),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: place.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-600\",\n                children: place.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 21\n              }, this)]\n            }, place.placeId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"location\",\n              value: location,\n              onChange: e => setLocation(e.target.value),\n              className: \"input rounded-r-none\",\n              placeholder: \"Address (auto-filled from OSM search or your current location)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleGetCurrentLocation,\n              className: \"btn btn-secondary rounded-l-none flex items-center\",\n              disabled: useCurrentLocation,\n              children: [useCurrentLocation ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"animate-spin h-5 w-5 mr-2\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  className: \"opacity-25\",\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"opacity-75\",\n                  fill: \"currentColor\",\n                  d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-5 w-5 mr-2\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this), useCurrentLocation ? 'Getting...' : 'Use My Location (Get Address)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), selectedPlace && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-700\",\n              children: [\"Selected: \", selectedPlace.name, \" (\", selectedPlace.address, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getOsmStaticMapUrl(selectedPlace.location.lat, selectedPlace.location.lng),\n              alt: \"Map preview from OpenStreetMap\",\n              className: \"rounded mt-1 border\",\n              style: {\n                width: 300,\n                height: 150\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-400 mt-1\",\n              children: [\"Map & address by \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"https://www.openstreetmap.org/\",\n                className: \"underline\",\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: \"OpenStreetMap\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 78\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mt-1\",\n            children: \"Search for a place or address using OpenStreetMap, or use the button to get your current address from your device location.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => navigate('/'),\n            className: \"btn btn-secondary mr-3\",\n            disabled: loading,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            disabled: loading,\n            children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"animate-spin -ml-1 mr-2 h-4 w-4 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  className: \"opacity-25\",\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"opacity-75\",\n                  fill: \"currentColor\",\n                  d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this), \"Adding Place...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this) : 'Add Place'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n_s(AddPlace, \"+38laKulx8NFu+9KiIQc+vktfWs=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = AddPlace;\nexport default AddPlace;\nvar _c;\n$RefreshReg$(_c, \"AddPlace\");","map":{"version":3,"names":["React","useState","useNavigate","addPlace","useAuth","searchPlaces","reverseGeocode","jsxDEV","_jsxDEV","getOsmStaticMapUrl","lat","lon","zoom","width","height","categories","id","name","AddPlace","_s","setName","category","setCategory","location","setLocation","error","setError","loading","setLoading","useCurrentLocation","setUseCurrentLocation","placeQuery","setPlaceQuery","searchResults","setSearchResults","selectedPlace","setSelectedPlace","currentUser","navigate","handleGetCurrentLocation","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","result","display_name","address","lng","osm_id","osm_type","toFixed","err","console","handleSubmit","e","preventDefault","trim","addedBy","uid","addedByEmail","email","handlePlaceSearch","results","map","place","parseFloat","length","handleSelectPlace","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","target","rel","xmlns","viewBox","fill","fillRule","d","clipRule","onSubmit","htmlFor","type","value","onChange","placeholder","required","disabled","cat","onClick","placeId","cx","cy","r","stroke","strokeWidth","strokeLinecap","strokeLinejoin","src","alt","style","_c","$RefreshReg$"],"sources":["C:/Users/Vihaan/Desktop/When To Visit/src/pages/AddPlace.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { addPlace } from '../services/firestoreService';\nimport { useAuth } from '../contexts/AuthContext';\nimport { searchPlaces, reverseGeocode } from '../services/osmService';\n\n// Helper to get OSM static map image\nconst getOsmStaticMapUrl = (lat, lon, zoom = 16, width = 400, height = 200) => {\n  // Using OSM static map provider (no API key required)\n  return `https://staticmap.openstreetmap.de/staticmap.php?center=${lat},${lon}&zoom=${zoom}&size=${width}x${height}&markers=${lat},${lon},red-pushpin`;\n};\n\nconst categories = [\n  { id: 'health', name: 'Health' },\n  { id: 'food', name: 'Food' },\n  { id: 'fitness', name: 'Fitness' },\n  { id: 'shopping', name: 'Shopping' },\n  { id: 'education', name: 'Education' },\n  { id: 'entertainment', name: 'Entertainment' }\n];\n\nconst AddPlace = () => {\n  const [name, setName] = useState('');\n  const [category, setCategory] = useState('');\n  const [location, setLocation] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [useCurrentLocation, setUseCurrentLocation] = useState(false);\n  const [placeQuery, setPlaceQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedPlace, setSelectedPlace] = useState(null);\n\n  const { currentUser } = useAuth();\n  const navigate = useNavigate();\n\n  const handleGetCurrentLocation = async () => {\n    if (navigator.geolocation) {\n      setUseCurrentLocation(true);\n      navigator.geolocation.getCurrentPosition(\n        async (position) => {\n          const { latitude, longitude } = position.coords;\n          try {\n            const result = await reverseGeocode(latitude, longitude);\n            if (result && result.display_name) {\n              setLocation(result.display_name);\n              setSelectedPlace({\n                name: result.display_name,\n                address: result.display_name,\n                location: { lat: latitude, lng: longitude },\n                osm_id: result.osm_id,\n                osm_type: result.osm_type\n              });\n            } else {\n              setLocation(`${latitude.toFixed(6)}, ${longitude.toFixed(6)}`);\n            }\n          } catch (err) {\n            setLocation(`${latitude.toFixed(6)}, ${longitude.toFixed(6)}`);\n          }\n          setUseCurrentLocation(false);\n        },\n        (error) => {\n          console.error('Error getting location:', error);\n          setError('Failed to get your current location. Please enter it manually.');\n          setUseCurrentLocation(false);\n        }\n      );\n    } else {\n      setError('Geolocation is not supported by your browser. Please enter location manually.');\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!name.trim()) {\n      return setError('Please enter a place name');\n    }\n    \n    if (!category) {\n      return setError('Please select a category');\n    }\n    \n    try {\n      setError('');\n      setLoading(true);\n      \n      await addPlace({\n        name: name.trim(),\n        category,\n        location: selectedPlace\n          ? `${selectedPlace.location.lat},${selectedPlace.location.lng}`\n          : (location.trim() || null),\n        address: selectedPlace ? selectedPlace.address : location.trim(),\n        osm_id: selectedPlace ? selectedPlace.osm_id : null,\n        osm_type: selectedPlace ? selectedPlace.osm_type : null,\n        addedBy: currentUser.uid,\n        addedByEmail: currentUser.email\n      });\n      \n      navigate('/');\n    } catch (error) {\n      console.error('Error adding place:', error);\n      setError('Failed to add place. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Google Maps Place Search\n  const handlePlaceSearch = async () => {\n    setError('');\n    setSearchResults([]);\n    setSelectedPlace(null);\n    if (!placeQuery.trim()) return;\n    try {\n      const results = await searchPlaces(placeQuery.trim());\n      setSearchResults(results.map(place => ({\n        name: place.display_name,\n        address: place.display_name,\n        location: { lat: parseFloat(place.lat), lng: parseFloat(place.lon) },\n        osm_id: place.osm_id,\n        osm_type: place.osm_type\n      })));\n      if (results.length === 0) setError('No places found.');\n    } catch (e) {\n      setError('Error searching places.');\n    }\n  };\n\n  const handleSelectPlace = (place) => {\n    setSelectedPlace(place);\n    setLocation(place.address);\n    setSearchResults([]);\n    setPlaceQuery(place.name);\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Add a New Place</h1>\n        <p className=\"text-gray-600\">\n          Help the community by adding a new location to track. All address and map features are powered by <a href=\"https://www.openstreetmap.org/\" className=\"text-blue-600 underline\" target=\"_blank\" rel=\"noopener noreferrer\">OpenStreetMap</a> (OSM).\n        </p>\n      </div>\n      \n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 rounded-md p-4 mb-6\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-red-400\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-red-800\">\n                  {error}\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-6\">\n            <label htmlFor=\"name\" className=\"block text-gray-700 font-medium mb-2\">\n              Place Name*\n            </label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              className=\"input\"\n              placeholder=\"e.g., Central Park Gym\"\n              required\n            />\n          </div>\n          \n          <div className=\"mb-6\">\n            <label htmlFor=\"category\" className=\"block text-gray-700 font-medium mb-2\">\n              Category*\n            </label>\n            <select\n              id=\"category\"\n              value={category}\n              onChange={(e) => setCategory(e.target.value)}\n              className=\"input\"\n              required\n            >\n              <option value=\"\" disabled>Select a category</option>\n              {categories.map((cat) => (\n                <option key={cat.id} value={cat.id}>\n                  {cat.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"mb-6\">\n            <label htmlFor=\"location\" className=\"block text-gray-700 font-medium mb-2\">\n              Location (Search address using OSM or use your current location)\n            </label>\n            <div className=\"flex mb-2\">\n              <input\n                type=\"text\"\n                id=\"placeQuery\"\n                value={placeQuery}\n                onChange={(e) => setPlaceQuery(e.target.value)}\n                className=\"input rounded-r-none\"\n                placeholder=\"Search for a place or address (powered by OpenStreetMap)\"\n              />\n              <button\n                type=\"button\"\n                onClick={handlePlaceSearch}\n                className=\"btn btn-secondary rounded-l-none flex items-center\"\n                disabled={loading}\n              >\n                Search\n              </button>\n            </div>\n            {searchResults.length > 0 && (\n              <ul className=\"bg-white border rounded shadow max-h-40 overflow-auto mb-2\">\n                {searchResults.map((place) => (\n                  <li\n                    key={place.placeId}\n                    className=\"p-2 hover:bg-blue-100 cursor-pointer\"\n                    onClick={() => handleSelectPlace(place)}\n                  >\n                    <div className=\"font-semibold\">{place.name}</div>\n                    <div className=\"text-xs text-gray-600\">{place.address}</div>\n                  </li>\n                ))}\n              </ul>\n            )}\n            <div className=\"flex\">\n              <input\n                type=\"text\"\n                id=\"location\"\n                value={location}\n                onChange={(e) => setLocation(e.target.value)}\n                className=\"input rounded-r-none\"\n                placeholder=\"Address (auto-filled from OSM search or your current location)\"\n              />\n              <button\n                type=\"button\"\n                onClick={handleGetCurrentLocation}\n                className=\"btn btn-secondary rounded-l-none flex items-center\"\n                disabled={useCurrentLocation}\n              >\n                {useCurrentLocation ? (\n                  <svg className=\"animate-spin h-5 w-5 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                ) : (\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  </svg>\n                )}\n                {useCurrentLocation ? 'Getting...' : 'Use My Location (Get Address)'}\n              </button>\n            </div>\n            {selectedPlace && (\n              <div className=\"mt-2\">\n                <div className=\"text-xs text-gray-700\">Selected: {selectedPlace.name} ({selectedPlace.address})</div>\n                <img\n                  src={getOsmStaticMapUrl(selectedPlace.location.lat, selectedPlace.location.lng)}\n                  alt=\"Map preview from OpenStreetMap\"\n                  className=\"rounded mt-1 border\"\n                  style={{ width: 300, height: 150 }}\n                />\n                <div className=\"text-xs text-gray-400 mt-1\">Map & address by <a href=\"https://www.openstreetmap.org/\" className=\"underline\" target=\"_blank\" rel=\"noopener noreferrer\">OpenStreetMap</a></div>\n              </div>\n            )}\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Search for a place or address using OpenStreetMap, or use the button to get your current address from your device location.\n            </p>\n          </div>\n          \n          <div className=\"flex justify-end\">\n            <button\n              type=\"button\"\n              onClick={() => navigate('/')}\n              className=\"btn btn-secondary mr-3\"\n              disabled={loading}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              disabled={loading}\n            >\n              {loading ? (\n                <span className=\"flex items-center\">\n                  <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                  Adding Place...\n                </span>\n              ) : 'Add Place'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AddPlace;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}